<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23f59e0b'/><rect x='10' y='45' width='48' height='32' rx='4' fill='%230f0f0f'/><rect x='14' y='22' width='32' height='28' rx='3' fill='%230f0f0f'/><rect x='58' y='12' width='10' height='58' rx='2' fill='%230f0f0f'/><rect x='68' y='44' width='22' height='6' rx='2' fill='%230f0f0f'/><rect x='68' y='58' width='22' height='6' rx='2' fill='%230f0f0f'/><circle cx='22' cy='82' r='9' fill='%230f0f0f'/><circle cx='48' cy='82' r='9' fill='%230f0f0f'/></svg>">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Panel Incidencias">
<meta name="application-name" content="Panel Incidencias">
<meta name="theme-color" content="#f59e0b">
<title>Panel Incidencias ‚Äî Carretillas</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:#0f0f0f;--surface:#1a1a1a;--surface2:#222;--border:#2e2e2e;
    --accent:#f59e0b;--accent2:#ef4444;--accent3:#22c55e;
    --text:#f0f0f0;--muted:#888;
    --font-display:'Bebas Neue',sans-serif;
    --font-body:'DM Sans',sans-serif;
    --font-mono:'JetBrains Mono',monospace;
  }
  *{margin:0;padding:0;box-sizing:border-box;}
  body{background:var(--bg);color:var(--text);font-family:var(--font-body);min-height:100vh;overflow-x:hidden;}
  body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;background-image:linear-gradient(rgba(245,158,11,0.04) 1px,transparent 1px),linear-gradient(90deg,rgba(245,158,11,0.04) 1px,transparent 1px);background-size:40px 40px;}
  header{position:relative;z-index:10;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px;padding:24px 40px;border-bottom:1px solid var(--border);background:rgba(15,15,15,0.9);backdrop-filter:blur(10px);}
  .logo{display:flex;align-items:center;gap:16px;}
  .logo-icon{width:48px;height:48px;background:var(--accent);border-radius:8px;display:flex;align-items:center;justify-content:center;}
  .logo-text h1{font-family:var(--font-display);font-size:28px;letter-spacing:2px;color:var(--text);line-height:1;}
  .logo-text p{font-size:11px;color:var(--muted);font-family:var(--font-mono);letter-spacing:1px;text-transform:uppercase;}
  .header-right{display:flex;align-items:center;gap:20px;flex-wrap:wrap;}
  .update-info{font-family:var(--font-mono);font-size:11px;color:var(--muted);display:flex;align-items:center;gap:8px;}
  .live-dot{width:8px;height:8px;border-radius:50%;background:var(--accent3);}
  .header-stats{display:flex;gap:16px;}
  .stat-pill{display:flex;flex-direction:column;align-items:center;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:10px 20px;min-width:80px;}
  .stat-pill .num{font-family:var(--font-display);font-size:28px;line-height:1;}
  .stat-pill .label{font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--muted);font-family:var(--font-mono);}
  .stat-pill.red .num{color:var(--accent2);}
  .stat-pill.amber .num{color:var(--accent);}
  .stat-pill.green .num{color:var(--accent3);}
  main{position:relative;z-index:5;padding:40px;}
  .toolbar{display:flex;align-items:center;gap:16px;margin-bottom:32px;flex-wrap:wrap;}
  .search-box{position:relative;flex:1;min-width:220px;}
  .search-box input{width:100%;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px 16px 12px 40px;color:var(--text);font-family:var(--font-body);font-size:14px;outline:none;transition:border-color 0.15s;}
  .search-box input:focus{border-color:var(--accent);}
  .search-box input::placeholder{color:var(--muted);}
  .search-box .si{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:16px;}
  .filter-btn{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px 18px;color:var(--text);font-family:var(--font-body);font-size:13px;cursor:pointer;transition:all 0.15s;}
  .filter-btn.active,.filter-btn:hover{border-color:var(--accent);color:var(--accent);}
  .section-title{font-family:var(--font-display);font-size:20px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;margin-bottom:24px;display:flex;align-items:center;gap:12px;}
  .section-title::after{content:'';flex:1;height:1px;background:var(--border);}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;margin-bottom:50px;}
  .card{background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden;transition:transform 0.2s,box-shadow 0.2s;cursor:pointer;animation:fadeUp 0.4s ease backwards;}
  .card:hover{transform:translateY(-4px);box-shadow:0 20px 40px rgba(0,0,0,0.4),0 0 0 1px var(--accent);}
  @keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
  .card-header{padding:20px 24px 0;display:flex;justify-content:space-between;align-items:flex-start;}
  .carretilla-num{font-family:var(--font-display);font-size:52px;line-height:1;color:var(--accent);}
  .carretilla-num span{font-family:var(--font-mono);font-size:11px;display:block;color:var(--muted);letter-spacing:2px;margin-bottom:4px;}
  .badge-prioridad{display:inline-flex;align-items:center;gap:5px;padding:5px 12px;border-radius:99px;font-size:11px;font-weight:600;letter-spacing:0.5px;font-family:var(--font-mono);text-transform:uppercase;}
  .badge-prioridad.alta{background:rgba(239,68,68,0.15);border:1px solid rgba(239,68,68,0.4);color:#f87171;}
  .badge-prioridad.media{background:rgba(245,158,11,0.15);border:1px solid rgba(245,158,11,0.4);color:#fbbf24;}
  .badge-prioridad.baja{background:rgba(34,197,94,0.15);border:1px solid rgba(34,197,94,0.4);color:#4ade80;}
  .badge-prioridad.sin{background:rgba(136,136,136,0.15);border:1px solid #444;color:var(--muted);}
  .badge-prioridad::before{content:'';width:6px;height:6px;border-radius:50%;background:currentColor;}
  .forklift-container{padding:16px 24px;display:flex;justify-content:center;align-items:center;min-height:120px;overflow:visible;}
  .card-body{padding:0 24px 20px;}
  .incidencia-text{font-size:14px;font-weight:500;color:var(--text);margin-bottom:12px;line-height:1.5;border-left:3px solid var(--accent);padding-left:10px;}
  .meta-row{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px;}
  .meta-chip{background:var(--surface2);border:1px solid var(--border);border-radius:6px;padding:4px 10px;font-family:var(--font-mono);font-size:11px;color:var(--muted);display:flex;align-items:center;gap:5px;}
  .meta-chip strong{color:var(--text);}
  .card-footer{border-top:1px solid var(--border);padding:12px 24px;display:flex;justify-content:space-between;align-items:center;}
  .estado-pendiente{font-family:var(--font-mono);font-size:11px;color:var(--accent2);text-transform:uppercase;letter-spacing:1px;}
  .usuario{font-size:12px;color:var(--muted);font-weight:500;}
  .empty-state{grid-column:1/-1;text-align:center;padding:60px;color:var(--muted);font-family:var(--font-mono);font-size:13px;}
  .overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:100;backdrop-filter:blur(4px);}
  .overlay.active{display:flex;align-items:center;justify-content:center;}
  .detail-panel{background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:36px;width:520px;max-width:95vw;max-height:90vh;overflow-y:auto;animation:slideIn 0.25s ease;position:relative;}
  @keyframes slideIn{from{opacity:0;transform:scale(0.95) translateY(20px);}to{opacity:1;transform:scale(1) translateY(0);}}
  .close-btn{position:absolute;top:16px;right:16px;background:var(--surface2);border:1px solid var(--border);color:var(--muted);width:32px;height:32px;border-radius:8px;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all 0.15s;}
  .close-btn:hover{color:var(--text);background:var(--border);}
  .detail-title{font-family:var(--font-display);font-size:36px;color:var(--accent);margin-bottom:4px;letter-spacing:2px;}
  .detail-sub{font-family:var(--font-mono);font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:2px;margin-bottom:24px;}
  .detail-forklift{display:flex;justify-content:center;margin-bottom:24px;}
  .detail-forklift svg{width:180px;height:130px;filter:drop-shadow(0 8px 24px rgba(245,158,11,0.3));}
  .detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px;}
  .detail-field{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:12px 16px;}
  .detail-field label{font-family:var(--font-mono);font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--muted);display:block;margin-bottom:4px;}
  .detail-field .val{font-size:14px;font-weight:600;color:var(--text);}
  .detail-incidencia{background:rgba(245,158,11,0.08);border:1px solid rgba(245,158,11,0.25);border-radius:10px;padding:16px;margin-bottom:12px;}
  .detail-incidencia label{font-family:var(--font-mono);font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--accent);display:block;margin-bottom:6px;}
  .detail-incidencia .val{font-size:15px;font-weight:500;color:var(--text);line-height:1.5;}
  .detail-obs{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:14px 16px;}
  .detail-obs label{font-family:var(--font-mono);font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--muted);display:block;margin-bottom:6px;}
  .detail-obs .val{font-size:13px;color:var(--muted);line-height:1.5;}

  @media(max-width:600px){
    header{padding:16px 20px;}
    main{padding:20px 16px;}
    .grid{grid-template-columns:1fr;}
    .header-stats{gap:8px;}
    .stat-pill{padding:8px 12px;min-width:60px;}
    .stat-pill .num{font-size:22px;}
    .forklift-container{min-height:80px;padding:12px 16px;}
    .carretilla-num{font-size:38px;}
    .toolbar{flex-direction:column;align-items:stretch;}
    .search-box{min-width:unset;}
  }
  
  
  </style>
</head>
<body>
<header>
  <div class="logo">
    <div class="logo-icon">
      <img src="https://estrellaga15002637.sharepoint.com/sites/EXPEDICIONES/Shared%20Documents/Carretillas/forklift_transparent.png" width="36" height="36" style="object-fit:contain;filter:brightness(0);" />
    </div>
    <div class="logo-text">
      <h1>PANEL INCIDENCIAS</h1>
      <p>Control de incidencias ¬∑ Carretillas</p>
    </div>
  </div>
  <div class="header-right">
    <div class="update-info">
      <div class="live-dot"></div>
      <span id="fecha-gen"></span>
    </div>
    <div class="header-stats">
      <div class="stat-pill red"><span class="num" id="stat-total">0</span><span class="label">Incidencias</span></div>
      <div class="stat-pill amber"><span class="num" id="stat-alta">0</span><span class="label">Alta</span></div>
      <div class="stat-pill green"><span class="num" id="stat-resto">0</span><span class="label">Media/Baja</span></div>
    </div>
  </div>
</header>
<main>
  <div class="toolbar">
    <div class="search-box">
      <span class="si">üîç</span>
      <input type="text" id="search" placeholder="Buscar carretilla, usuario o incidencia‚Ä¶" oninput="renderGrid()">
    </div>
    <button class="filter-btn active" id="btn-all" onclick="setFilter('all')">üöú Todas</button>
    <button class="filter-btn" id="btn-alta" onclick="setFilter('Alta')">üî¥ Alta</button>
    <button class="filter-btn" id="btn-media" onclick="setFilter('Media')">üü° Media</button>
    <button class="filter-btn" id="btn-baja" onclick="setFilter('Baja')">üü¢ Baja</button>
  </div>
  <div class="section-title">Carretillas con incidencias pendientes</div>
  <div class="grid" id="grid"></div>
</main>
<div class="overlay" id="overlay" onclick="closeDetail(event)">
  <div class="detail-panel">
    <button class="close-btn" onclick="closeDetail(null,true)">‚úï</button>
    <div class="detail-title" id="d-num"></div>
    <div class="detail-sub">Incidencia pendiente</div>
    <div class="detail-forklift" id="d-svg"></div>
    <div class="detail-incidencia"><label>‚ö†Ô∏è Incidencia</label><div class="val" id="d-inc"></div></div>
    <div class="detail-grid">
      <div class="detail-field"><label>üìÖ Fecha Aver√≠a</label><div class="val" id="d-fa"></div></div>
      <div class="detail-field"><label>üì£ Fecha Aviso</label><div class="val" id="d-fav"></div></div>
      <div class="detail-field"><label>üë§ Usuario</label><div class="val" id="d-us"></div></div>
      <div class="detail-field"><label>üîß Responsable</label><div class="val" id="d-re"></div></div>
      <div class="detail-field"><label>‚ö° Prioridad</label><div class="val" id="d-pr"></div></div>
      <div class="detail-field"><label>üîÑ Estado</label><div class="val" id="d-es"></div></div>
    </div>
    <div class="detail-obs"><label>üìù Observaciones</label><div class="val" id="d-ob"></div></div>
  </div>
</div>
<script id="jdata" type="application/json">[{"@odata.etag":"","ItemInternalId":"e6ad6e80-d37d-4a84-a7c9-1be76a002e02","FECHA AVERIA":"46007","USUARIO":"Luis Seijo","CARRETILLA":"3","INCIDENCIA":"Entra agua por las gomas de la luna delantera","FECHA AVISO\n Javier 71908":"46008","JJEE / AUX_x002e_ DESC_x002e_":"","PRIORIDAD":"Alta","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"517dc7f8-33e4-44e0-8d24-e3f5bdbd3e8b","FECHA AVERIA":"46037","USUARIO":"JOS√â ANTONIO RIAL","CARRETILLA":"24","INCIDENCIA":"tornillos en parrilla sobresalen para delante","FECHA AVISO\n Javier 71908":"46037","JJEE / AUX_x002e_ DESC_x002e_":"DIEGO FUENTES","PRIORIDAD":"Alta","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"150e8325-b06e-470f-880b-3c228df5c223","FECHA AVERIA":"46044","USUARIO":"SERGIO MARTIN","CARRETILLA":"","INCIDENCIA":"Traspalet apilador, se mueve mucho al levantar","FECHA AVISO\n Javier 71908":"46045","JJEE / AUX_x002e_ DESC_x002e_":"SERGIO SEIJO","PRIORIDAD":"Alta","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"39c40811-3838-40cc-ab7d-8205dd8ae307","FECHA AVERIA":"46057","USUARIO":"L. MIGUEL PI√ëEIRO","CARRETILLA":"28","INCIDENCIA":"bul√≥n de remolque doblado","FECHA AVISO\n Javier 71908":"46057","JJEE / AUX_x002e_ DESC_x002e_":"JES√öS CORTI√ëAS","PRIORIDAD":"Baja","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"a7f88d96-ea90-4d4a-b128-e7c4dbb78eb8","FECHA AVERIA":"46064","USUARIO":"FRANCISCO PILLADO","CARRETILLA":"16","INCIDENCIA":"Deslizador derecho cierra mal. descompensado","FECHA AVISO\n Javier 71908":"","JJEE / AUX_x002e_ DESC_x002e_":"MARCOS FRANQUEIRA","PRIORIDAD":"Alta","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"e608758c-a485-4966-9f70-e4c31c9c69e5","FECHA AVERIA":"46072","USUARIO":"OSCAR FERNANDEZ ","CARRETILLA":"T4","INCIDENCIA":"La bater√≠a dura muy poco","FECHA AVISO\n Javier 71908":"46073","JJEE / AUX_x002e_ DESC_x002e_":"ALBERTO MANTEIGA","PRIORIDAD":"Media","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"2118bb93-b812-4418-86e4-b75412d48b2f","FECHA AVERIA":"46072","USUARIO":"OSCAR FERNANDEZ ","CARRETILLA":"","INCIDENCIA":"Transpalet apilador le dura poco la bater√≠a","FECHA AVISO\n Javier 71908":"46073","JJEE / AUX_x002e_ DESC_x002e_":"ALBERTO MANTEIGA","PRIORIDAD":"Media","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":""},{"@odata.etag":"","ItemInternalId":"d0ecf63a-b853-431e-bae4-b0cd8cd47a45","FECHA AVERIA":"46073","USUARIO":"ENRIQUE MARTINEZ","CARRETILLA":"24","INCIDENCIA":"Ruedas muy gastadas,y cortadas","FECHA AVISO\n Javier 71908":"46076","JJEE / AUX_x002e_ DESC_x002e_":"ALBERTO MANTEIGA","PRIORIDAD":"Alta","ESTADO REPARACION":"Pendiente","FECHA ARREGLO":"","OBSERVACIONES":"falta avisar a Javi (20:00)"}]</script>
<script>
var DATA_JSON = JSON.parse(document.getElementById('jdata').textContent);
var incidencias = [];
var activeFilter = 'all';

function excelDate(s){
  if(!s||isNaN(s))return s||'‚Äî';
  var d=new Date((parseInt(s)-25569)*86400*1000);
  if(isNaN(d.getTime()))return String(s);
  return d.toLocaleDateString('es-ES',{day:'2-digit',month:'2-digit',year:'numeric'});
}

function init(){
  try{
    var raw=DATA_JSON;
    incidencias=raw.map(function(r,i){return{
      id:i,
      carretilla:r['CARRETILLA']||'?',
      usuario:r['USUARIO']||'‚Äî',
      incidencia:r['INCIDENCIA']||'‚Äî',
      fechaAveria:excelDate(r['FECHA AVERIA']),
      fechaAviso:excelDate(r['FECHA AVISO\n Javier 71908']),
      responsable:r['JJEE / AUX_x002e_ DESC_x002e_']||'‚Äî',
      prioridad:r['PRIORIDAD']||'',
      estado:r['ESTADO REPARACION']||'‚Äî',
      observaciones:r['OBSERVACIONES']||''
    };});
    document.getElementById('stat-total').textContent=incidencias.length;
    document.getElementById('stat-alta').textContent=incidencias.filter(function(i){return(i.prioridad||'').toUpperCase()==='ALTA';}).length;
    document.getElementById('stat-resto').textContent=incidencias.filter(function(i){return(i.prioridad||'').toUpperCase()!=='ALTA';}).length;
    renderGrid();
  }catch(e){
    document.getElementById('grid').innerHTML='<div class="empty-state">Error al cargar datos: '+e.message+'</div>';
  }
}



function getVehicleImg(carretilla,w,h){ return ''; }
function svgColor(p){p=(p||'').toLowerCase();if(p==='alta')return'#ef4444';if(p==='media')return'#f59e0b';if(p==='baja')return'#22c55e';return'#888';}
function badgeClass(p){p=(p||'').toLowerCase();if(p==='alta')return'alta';if(p==='media')return'media';if(p==='baja')return'baja';return'sin';}

function buildCard(item,delay){
  var col=svgColor(item.prioridad);
  return '<div class="card" style="animation-delay:'+delay+'ms;border-color:'+col+';border-width:2px" onclick="openDetail('+item.id+')">'+
    '<div class="card-header">'+
      '<div class="carretilla-num"><span>CARRETILLA</span>'+(item.carretilla||'?')+'</div>'+
      '<div class="badge-prioridad '+badgeClass(item.prioridad)+'">'+(item.prioridad||'Sin prioridad')+'</div>'+
    '</div>'+
    '<div class="card-body">'+
      '<div class="incidencia-text">'+item.incidencia+'</div>'+
      '<div class="meta-row">'+
        '<div class="meta-chip">üìÖ <strong>'+item.fechaAveria+'</strong></div>'+
        '<div class="meta-chip">üì£ <strong>'+item.fechaAviso+'</strong></div>'+
      '</div>'+
    '</div>'+
    '<div class="card-footer">'+
      '<div class="estado-pendiente">‚¨§ '+item.estado+'</div>'+
      '<div class="usuario">üë§ '+item.usuario+'</div>'+
    '</div>'+
  '</div>';
}

function renderGrid(){
  var search=(document.getElementById('search').value||'').toLowerCase();
  var filtered=incidencias.filter(function(i){
    var mf=activeFilter==='all'||(i.prioridad||'').toLowerCase()===activeFilter.toLowerCase();
    var ms=!search||(i.carretilla||'').toLowerCase().includes(search)||(i.usuario||'').toLowerCase().includes(search)||(i.incidencia||'').toLowerCase().includes(search);
    return mf&&ms;
  });
  var grid=document.getElementById('grid');
  if(!filtered.length){grid.innerHTML='<div class="empty-state">Sin incidencias que coincidan</div>';return;}
  grid.innerHTML=filtered.map(function(item,i){return buildCard(item,i*70);}).join('');
}

function setFilter(f){
  activeFilter=f;
  ['all','alta','media','baja'].forEach(function(k){var el=document.getElementById('btn-'+k);if(el)el.classList.remove('active');});
  var t=document.getElementById('btn-'+f.toLowerCase());if(t)t.classList.add('active');
  renderGrid();
}

var _detailOpen=false;
function openDetail(id){
  if(_detailOpen)return;
  _detailOpen=true;
  setTimeout(function(){_detailOpen=false;},300);
  var item=incidencias.find(function(i){return i.id===id;});
  if(!item)return;
  document.getElementById('d-num').textContent='CARRETILLA '+item.carretilla;
  var fc=item.prioridad.toLowerCase()==='alta'?'brightness(0) saturate(100%) invert(35%) sepia(90%) saturate(2000%) hue-rotate(340deg) brightness(120%)':item.prioridad.toLowerCase()==='media'?'brightness(0) saturate(100%) invert(75%) sepia(80%) saturate(800%) hue-rotate(5deg) brightness(110%)':item.prioridad.toLowerCase()==='baja'?'brightness(0) saturate(100%) invert(60%) sepia(80%) saturate(800%) hue-rotate(90deg) brightness(110%)':'brightness(0) invert(0.5)';
  document.getElementById('d-inc').textContent=item.incidencia;
  document.getElementById('d-fa').textContent=item.fechaAveria;
  document.getElementById('d-fav').textContent=item.fechaAviso;
  document.getElementById('d-us').textContent=item.usuario;
  document.getElementById('d-re').textContent=item.responsable;
  document.getElementById('d-pr').textContent=item.prioridad||'Sin prioridad';
  document.getElementById('d-es').textContent=item.estado;
  document.getElementById('d-ob').textContent=item.observaciones||'Sin observaciones';
  document.getElementById('overlay').classList.add('active');
}

function closeDetail(e,force){
  if(force||(e&&e.target===document.getElementById('overlay')))document.getElementById('overlay').classList.remove('active');
}

document.getElementById("fecha-gen").textContent=new Date().toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});
init();
</script>
</body>
</html>
